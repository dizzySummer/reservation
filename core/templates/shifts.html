{% extends "header.html" %}
{% load static %}
{% block title %}shifts{% endblock %}
{% load crispy_forms_tags %}
{% block content %}

<main role="main" class="container">

      <h3>Filter Shifts</h3>
      <form method="GET" action=".">
        {% csrf_token %}
        <div class="form-row">
            <div class="form-group col-4">
                <div class="input-group">
                    <input class="form-control py-2 border-right-0 border" type="search" name="address_contains" placeholder="City contains..." />
                    <span class="input-group-append">
                        <div class="input-group-text bg-transparent">
                            <i class="fa fa-search"></i>
                        </div>
                    </span>
                </div>
            </div>        


     
            <div class="form-group col-4">
                <div class="input-group">
                    <input class="form-control py-2 border-right-0 border" type="search" name="org_name_contains" placeholder="Org_name contains..." />
                    <span class="input-group-append">
                        <div class="input-group-text bg-transparent">
                            <i class="fa fa-search"></i>
                        </div>
                    </span>
                </div>
            </div>        
 
      
            <div class="form-group col-4">
                <div class="input-group">
                    <input class="form-control py-2 border-right-0 border" type="search" name="nurse_id_exact" placeholder="Nurse id exact..." />
                    <span class="input-group-append">
                        <div class="input-group-text bg-transparent">
                            <i class="fa fa-search"></i>
                        </div>
                    </span>
                </div>
            </div>        
        </div>
     
        <div class="form-row">
          <div class="form-group col-md-2 col-lg-2">
            <label for="shitf_date_min">Start Date</label>
            <input type="date" class="form-control" id="shift_date_min" name="shift_date_min">
          </div>
          <div class="form-group col-md-2 col-lg-2">
            <label for="shift_date_max">Finish Date</label>
            <input type="date" class="form-control" id="shift_date_max" name="shift_date_max">
          </div>
          <div class="form-group col-md-2">
            <label for="role">Role</label>
            <select id="role" class="form-control" name="role">
              <option selected>Choose...</option>
              {% for role in shift.role.choices %}
              <option value="{{ role }}">{{role}}</option>
              {% endfor %}
            </select>
          </div>
        
        
          <div class="form-group col-md-2">
            <label for="status">Status</label>
            <select id="shift_status" class="form-control" name="shift.status">
              <option selected>Choose...</option>
             
              <option value="{{status}}">{{ shift.get_status_display }}</option>

          
            </select>

          </div>
     
        <div class="form-group col-4">
          <br>
          
          <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
  
        </div>
      </form>
    </div>



{% if shifts  %}
    {% if request.user.is_employer %}
	   {% include 'includes/employer_shifts.html' %}
    {% else %}
        {% include 'includes/staffNnurse_shifts.html' %}
    {% endif %}
     
{% else %}

 <p> There is no shift available at the moment, come back later...</p>

{% endif %}
</main>

{% endblock %}
